// Heapsort.cpp : ??????????????
//

//CSDN�� 
#include<bits/stdc++.h>
using namespace std;
void swap(int arr[], int a, int b)		//????;
{
	int temp = arr[a];
	arr[a] = arr[b];
	arr[b] = temp;
}
void adjustHeap(int arr[], int i, int length)		//?????(??????,?????????????)
{
	int temp = arr[i];//???????i
	for (int k = i * 2 + 1; k<length; k = k * 2 + 1)//?i?????????,???2i+1???
	{
		if (k + 1<length&&arr[k]<arr[k + 1])//????????????,k??????
		{
			k++;
		}
		if (arr[k] >temp)//??????????,??????????(??????)
		{
			arr[i] = arr[k];
			i = k;
		}
		else
		{
			break;
		}
	}
	arr[i] = temp;//?temp????????
}
void Heapsort(int arr[], int length)
{
	//1.?????
	for (int i = length / 2 - 1; i >= 0; i--)
	{
		//?????????????,????????
		adjustHeap(arr, i, length);
	}
	for (int j = length - 1; j>0; j--)
	{
		swap(arr, 0, j);//??????????????
		adjustHeap(arr, 0, j);//????????
	}
 
}
int main()
{
	int arr[9] = { 9,8,7,6,10,4,3,2,1 };
	Heapsort(arr, 9);
	for (int i = 0; i<9; i++)
		cout << arr[i] << " ";
	cout << endl;
	return 0;
}
 
